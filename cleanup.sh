#!/bin/bash
# -*- coding: utf-8 -*-
# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

echo "üßπ –ù–∞—á–∏–Ω–∞–µ–º –æ—á–∏—Å—Ç–∫—É –ø—Ä–æ–µ–∫—Ç–∞..."

# –£–¥–∞–ª—è–µ–º Python –∫—ç—à
echo "–£–¥–∞–ª—è–µ–º __pycache__..."
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null

# –£–¥–∞–ª—è–µ–º —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã Python
echo "–£–¥–∞–ª—è–µ–º .pyc –∏ .pyo —Ñ–∞–π–ª—ã..."
find . -type f \( -name "*.pyc" -o -name "*.pyo" \) -delete

# –£–¥–∞–ª—è–µ–º –±—ç–∫–∞–ø —Ñ–∞–π–ª—ã
echo "–£–¥–∞–ª—è–µ–º –±—ç–∫–∞–ø—ã..."
find . -type f \( -name "*.bak" -o -name "*.backup" -o -name "*.backup2" -o -name "*.backup3" \) -delete

# –£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ë–î
echo "–£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö..."
rm -f *.db *.sqlite *.sqlite3
rm -f app/*.db

# –£–¥–∞–ª—è–µ–º –ª–æ–≥–∏
echo "–£–¥–∞–ª—è–µ–º –ª–æ–≥–∏..."
rm -f *.log
find logs/ -type f -name "*.log" -delete 2>/dev/null

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã macOS
echo "–£–¥–∞–ª—è–µ–º .DS_Store..."
find . -name ".DS_Store" -delete

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤
echo "–£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã..."
find . -type f \( -name "*~" -o -name "*.swp" -o -name "*.swo" \) -delete

# –£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
echo "–£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã..."
rm -rf .pytest_cache/ htmlcov/ .coverage

echo ""
echo "‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìä –†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:"
du -sh .
echo ""
echo "üìÅ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:"
find . -type f -not -path "./.git/*" | wc -l
